{"ast":null,"code":"'use strict';\n\nvar UNICODE = require('../common/unicode');\n\n//Aliases\nvar $ = UNICODE.CODE_POINTS;\n\n//Utils\n\n//OPTIMIZATION: these utility functions should not be moved out of this module. V8 Crankshaft will not inline\n//this functions if they will be situated in another module due to context switch.\n//Always perform inlining check before modifying this functions ('node --trace-inlining').\nfunction isSurrogatePair(cp1, cp2) {\n  return cp1 >= 0xD800 && cp1 <= 0xDBFF && cp2 >= 0xDC00 && cp2 <= 0xDFFF;\n}\nfunction getSurrogatePairCodePoint(cp1, cp2) {\n  return (cp1 - 0xD800) * 0x400 + 0x2400 + cp2;\n}\n\n//Const\nvar DEFAULT_BUFFER_WATERLINE = 1 << 16;\n\n//Preprocessor\n//NOTE: HTML input preprocessing\n//(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#preprocessing-the-input-stream)\nvar Preprocessor = module.exports = function () {\n  this.html = null;\n  this.pos = -1;\n  this.lastGapPos = -1;\n  this.lastCharPos = -1;\n  this.gapStack = [];\n  this.skipNextNewLine = false;\n  this.lastChunkWritten = false;\n  this.endOfChunkHit = false;\n  this.bufferWaterline = DEFAULT_BUFFER_WATERLINE;\n};\nPreprocessor.prototype.dropParsedChunk = function () {\n  if (this.pos > this.bufferWaterline) {\n    this.lastCharPos -= this.pos;\n    this.html = this.html.substring(this.pos);\n    this.pos = 0;\n    this.lastGapPos = -1;\n    this.gapStack = [];\n  }\n};\nPreprocessor.prototype._addGap = function () {\n  this.gapStack.push(this.lastGapPos);\n  this.lastGapPos = this.pos;\n};\nPreprocessor.prototype._processHighRangeCodePoint = function (cp) {\n  //NOTE: try to peek a surrogate pair\n  if (this.pos !== this.lastCharPos) {\n    var nextCp = this.html.charCodeAt(this.pos + 1);\n    if (isSurrogatePair(cp, nextCp)) {\n      //NOTE: we have a surrogate pair. Peek pair character and recalculate code point.\n      this.pos++;\n      cp = getSurrogatePairCodePoint(cp, nextCp);\n\n      //NOTE: add gap that should be avoided during retreat\n      this._addGap();\n    }\n  }\n\n  // NOTE: we've hit the end of chunk, stop processing at this point\n  else if (!this.lastChunkWritten) {\n    this.endOfChunkHit = true;\n    return $.EOF;\n  }\n  return cp;\n};\nPreprocessor.prototype.write = function (chunk, isLastChunk) {\n  if (this.html) this.html += chunk;else this.html = chunk;\n  this.lastCharPos = this.html.length - 1;\n  this.endOfChunkHit = false;\n  this.lastChunkWritten = isLastChunk;\n};\nPreprocessor.prototype.insertHtmlAtCurrentPos = function (chunk) {\n  this.html = this.html.substring(0, this.pos + 1) + chunk + this.html.substring(this.pos + 1, this.html.length);\n  this.lastCharPos = this.html.length - 1;\n  this.endOfChunkHit = false;\n};\nPreprocessor.prototype.advance = function () {\n  this.pos++;\n  if (this.pos > this.lastCharPos) {\n    if (!this.lastChunkWritten) this.endOfChunkHit = true;\n    return $.EOF;\n  }\n  var cp = this.html.charCodeAt(this.pos);\n\n  //NOTE: any U+000A LINE FEED (LF) characters that immediately follow a U+000D CARRIAGE RETURN (CR) character\n  //must be ignored.\n  if (this.skipNextNewLine && cp === $.LINE_FEED) {\n    this.skipNextNewLine = false;\n    this._addGap();\n    return this.advance();\n  }\n\n  //NOTE: all U+000D CARRIAGE RETURN (CR) characters must be converted to U+000A LINE FEED (LF) characters\n  if (cp === $.CARRIAGE_RETURN) {\n    this.skipNextNewLine = true;\n    return $.LINE_FEED;\n  }\n  this.skipNextNewLine = false;\n\n  //OPTIMIZATION: first perform check if the code point in the allowed range that covers most common\n  //HTML input (e.g. ASCII codes) to avoid performance-cost operations for high-range code points.\n  return cp >= 0xD800 ? this._processHighRangeCodePoint(cp) : cp;\n};\nPreprocessor.prototype.retreat = function () {\n  if (this.pos === this.lastGapPos) {\n    this.lastGapPos = this.gapStack.pop();\n    this.pos--;\n  }\n  this.pos--;\n};","map":{"version":3,"names":["UNICODE","require","$","CODE_POINTS","isSurrogatePair","cp1","cp2","getSurrogatePairCodePoint","DEFAULT_BUFFER_WATERLINE","Preprocessor","module","exports","html","pos","lastGapPos","lastCharPos","gapStack","skipNextNewLine","lastChunkWritten","endOfChunkHit","bufferWaterline","prototype","dropParsedChunk","substring","_addGap","push","_processHighRangeCodePoint","cp","nextCp","charCodeAt","EOF","write","chunk","isLastChunk","length","insertHtmlAtCurrentPos","advance","LINE_FEED","CARRIAGE_RETURN","retreat","pop"],"sources":["C:/Users/Sator/WebProjects/kanjiMnemonics/create-react-app/node_modules/react-render-html/node_modules/parse5/lib/tokenizer/preprocessor.js"],"sourcesContent":["'use strict';\n\nvar UNICODE = require('../common/unicode');\n\n//Aliases\nvar $ = UNICODE.CODE_POINTS;\n\n//Utils\n\n//OPTIMIZATION: these utility functions should not be moved out of this module. V8 Crankshaft will not inline\n//this functions if they will be situated in another module due to context switch.\n//Always perform inlining check before modifying this functions ('node --trace-inlining').\nfunction isSurrogatePair(cp1, cp2) {\n    return cp1 >= 0xD800 && cp1 <= 0xDBFF && cp2 >= 0xDC00 && cp2 <= 0xDFFF;\n}\n\nfunction getSurrogatePairCodePoint(cp1, cp2) {\n    return (cp1 - 0xD800) * 0x400 + 0x2400 + cp2;\n}\n\n\n//Const\nvar DEFAULT_BUFFER_WATERLINE = 1 << 16;\n\n\n//Preprocessor\n//NOTE: HTML input preprocessing\n//(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#preprocessing-the-input-stream)\nvar Preprocessor = module.exports = function () {\n    this.html = null;\n\n    this.pos = -1;\n    this.lastGapPos = -1;\n    this.lastCharPos = -1;\n\n    this.gapStack = [];\n\n    this.skipNextNewLine = false;\n\n    this.lastChunkWritten = false;\n    this.endOfChunkHit = false;\n    this.bufferWaterline = DEFAULT_BUFFER_WATERLINE;\n};\n\nPreprocessor.prototype.dropParsedChunk = function () {\n    if (this.pos > this.bufferWaterline) {\n        this.lastCharPos -= this.pos;\n        this.html = this.html.substring(this.pos);\n        this.pos = 0;\n        this.lastGapPos = -1;\n        this.gapStack = [];\n    }\n};\n\nPreprocessor.prototype._addGap = function () {\n    this.gapStack.push(this.lastGapPos);\n    this.lastGapPos = this.pos;\n};\n\nPreprocessor.prototype._processHighRangeCodePoint = function (cp) {\n    //NOTE: try to peek a surrogate pair\n    if (this.pos !== this.lastCharPos) {\n        var nextCp = this.html.charCodeAt(this.pos + 1);\n\n        if (isSurrogatePair(cp, nextCp)) {\n            //NOTE: we have a surrogate pair. Peek pair character and recalculate code point.\n            this.pos++;\n            cp = getSurrogatePairCodePoint(cp, nextCp);\n\n            //NOTE: add gap that should be avoided during retreat\n            this._addGap();\n        }\n    }\n\n    // NOTE: we've hit the end of chunk, stop processing at this point\n    else if (!this.lastChunkWritten) {\n        this.endOfChunkHit = true;\n        return $.EOF;\n    }\n\n    return cp;\n};\n\nPreprocessor.prototype.write = function (chunk, isLastChunk) {\n    if (this.html)\n        this.html += chunk;\n\n    else\n        this.html = chunk;\n\n    this.lastCharPos = this.html.length - 1;\n    this.endOfChunkHit = false;\n    this.lastChunkWritten = isLastChunk;\n};\n\nPreprocessor.prototype.insertHtmlAtCurrentPos = function (chunk) {\n    this.html = this.html.substring(0, this.pos + 1) +\n                chunk +\n                this.html.substring(this.pos + 1, this.html.length);\n\n    this.lastCharPos = this.html.length - 1;\n    this.endOfChunkHit = false;\n};\n\n\nPreprocessor.prototype.advance = function () {\n    this.pos++;\n\n    if (this.pos > this.lastCharPos) {\n        if (!this.lastChunkWritten)\n            this.endOfChunkHit = true;\n\n        return $.EOF;\n    }\n\n    var cp = this.html.charCodeAt(this.pos);\n\n    //NOTE: any U+000A LINE FEED (LF) characters that immediately follow a U+000D CARRIAGE RETURN (CR) character\n    //must be ignored.\n    if (this.skipNextNewLine && cp === $.LINE_FEED) {\n        this.skipNextNewLine = false;\n        this._addGap();\n        return this.advance();\n    }\n\n    //NOTE: all U+000D CARRIAGE RETURN (CR) characters must be converted to U+000A LINE FEED (LF) characters\n    if (cp === $.CARRIAGE_RETURN) {\n        this.skipNextNewLine = true;\n        return $.LINE_FEED;\n    }\n\n    this.skipNextNewLine = false;\n\n    //OPTIMIZATION: first perform check if the code point in the allowed range that covers most common\n    //HTML input (e.g. ASCII codes) to avoid performance-cost operations for high-range code points.\n    return cp >= 0xD800 ? this._processHighRangeCodePoint(cp) : cp;\n};\n\nPreprocessor.prototype.retreat = function () {\n    if (this.pos === this.lastGapPos) {\n        this.lastGapPos = this.gapStack.pop();\n        this.pos--;\n    }\n\n    this.pos--;\n};\n\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}