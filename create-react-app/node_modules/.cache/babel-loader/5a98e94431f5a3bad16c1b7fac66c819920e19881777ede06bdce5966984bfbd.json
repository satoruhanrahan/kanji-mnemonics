{"ast":null,"code":"'use strict';\n\nvar Mixin = require('../../utils/mixin'),\n  Tokenizer = require('../../tokenizer'),\n  PositionTrackingPreprocessorMixin = require('../position_tracking/preprocessor_mixin'),\n  inherits = require('util').inherits;\nvar LocationInfoTokenizerMixin = module.exports = function (tokenizer) {\n  Mixin.call(this, tokenizer);\n  this.tokenizer = tokenizer;\n  this.posTracker = new PositionTrackingPreprocessorMixin(tokenizer.preprocessor);\n  this.currentAttrLocation = null;\n  this.currentTokenLocation = null;\n};\ninherits(LocationInfoTokenizerMixin, Mixin);\nLocationInfoTokenizerMixin.prototype._getCurrentLocation = function () {\n  return {\n    line: this.posTracker.line,\n    col: this.posTracker.col,\n    startOffset: this.posTracker.offset,\n    endOffset: -1\n  };\n};\nLocationInfoTokenizerMixin.prototype._attachCurrentAttrLocationInfo = function () {\n  this.currentAttrLocation.endOffset = this.posTracker.offset;\n  var currentToken = this.tokenizer.currentToken,\n    currentAttr = this.tokenizer.currentAttr;\n  if (!currentToken.location.attrs) currentToken.location.attrs = Object.create(null);\n  currentToken.location.attrs[currentAttr.name] = this.currentAttrLocation;\n};\nLocationInfoTokenizerMixin.prototype._getOverriddenMethods = function (mxn, orig) {\n  var methods = {\n    _createStartTagToken: function () {\n      orig._createStartTagToken.call(this);\n      this.currentToken.location = mxn.currentTokenLocation;\n    },\n    _createEndTagToken: function () {\n      orig._createEndTagToken.call(this);\n      this.currentToken.location = mxn.currentTokenLocation;\n    },\n    _createCommentToken: function () {\n      orig._createCommentToken.call(this);\n      this.currentToken.location = mxn.currentTokenLocation;\n    },\n    _createDoctypeToken: function (initialName) {\n      orig._createDoctypeToken.call(this, initialName);\n      this.currentToken.location = mxn.currentTokenLocation;\n    },\n    _createCharacterToken: function (type, ch) {\n      orig._createCharacterToken.call(this, type, ch);\n      this.currentCharacterToken.location = mxn.currentTokenLocation;\n    },\n    _createAttr: function (attrNameFirstCh) {\n      orig._createAttr.call(this, attrNameFirstCh);\n      mxn.currentAttrLocation = mxn._getCurrentLocation();\n    },\n    _leaveAttrName: function (toState) {\n      orig._leaveAttrName.call(this, toState);\n      mxn._attachCurrentAttrLocationInfo();\n    },\n    _leaveAttrValue: function (toState) {\n      orig._leaveAttrValue.call(this, toState);\n      mxn._attachCurrentAttrLocationInfo();\n    },\n    _emitCurrentToken: function () {\n      //NOTE: if we have pending character token make it's end location equal to the\n      //current token's start location.\n      if (this.currentCharacterToken) this.currentCharacterToken.location.endOffset = this.currentToken.location.startOffset;\n      this.currentToken.location.endOffset = mxn.posTracker.offset + 1;\n      orig._emitCurrentToken.call(this);\n    },\n    _emitCurrentCharacterToken: function () {\n      //NOTE: if we have character token and it's location wasn't set in the _emitCurrentToken(),\n      //then set it's location at the current preprocessor position.\n      //We don't need to increment preprocessor position, since character token\n      //emission is always forced by the start of the next character token here.\n      //So, we already have advanced position.\n      if (this.currentCharacterToken && this.currentCharacterToken.location.endOffset === -1) this.currentCharacterToken.location.endOffset = mxn.posTracker.offset;\n      orig._emitCurrentCharacterToken.call(this);\n    }\n  };\n\n  //NOTE: patch initial states for each mode to obtain token start position\n  Object.keys(Tokenizer.MODE).forEach(function (modeName) {\n    var state = Tokenizer.MODE[modeName];\n    methods[state] = function (cp) {\n      mxn.currentTokenLocation = mxn._getCurrentLocation();\n      orig[state].call(this, cp);\n    };\n  });\n  return methods;\n};","map":{"version":3,"names":["Mixin","require","Tokenizer","PositionTrackingPreprocessorMixin","inherits","LocationInfoTokenizerMixin","module","exports","tokenizer","call","posTracker","preprocessor","currentAttrLocation","currentTokenLocation","prototype","_getCurrentLocation","line","col","startOffset","offset","endOffset","_attachCurrentAttrLocationInfo","currentToken","currentAttr","location","attrs","Object","create","name","_getOverriddenMethods","mxn","orig","methods","_createStartTagToken","_createEndTagToken","_createCommentToken","_createDoctypeToken","initialName","_createCharacterToken","type","ch","currentCharacterToken","_createAttr","attrNameFirstCh","_leaveAttrName","toState","_leaveAttrValue","_emitCurrentToken","_emitCurrentCharacterToken","keys","MODE","forEach","modeName","state","cp"],"sources":["C:/Users/Sator/WebProjects/kanjiMnemonics/create-react-app/node_modules/react-render-html/node_modules/parse5/lib/extensions/location_info/tokenizer_mixin.js"],"sourcesContent":["'use strict';\n\nvar Mixin = require('../../utils/mixin'),\n    Tokenizer = require('../../tokenizer'),\n    PositionTrackingPreprocessorMixin = require('../position_tracking/preprocessor_mixin'),\n    inherits = require('util').inherits;\n\nvar LocationInfoTokenizerMixin = module.exports = function (tokenizer) {\n    Mixin.call(this, tokenizer);\n\n    this.tokenizer = tokenizer;\n    this.posTracker = new PositionTrackingPreprocessorMixin(tokenizer.preprocessor);\n    this.currentAttrLocation = null;\n    this.currentTokenLocation = null;\n};\n\ninherits(LocationInfoTokenizerMixin, Mixin);\n\nLocationInfoTokenizerMixin.prototype._getCurrentLocation = function () {\n    return {\n        line: this.posTracker.line,\n        col: this.posTracker.col,\n        startOffset: this.posTracker.offset,\n        endOffset: -1\n    };\n};\n\nLocationInfoTokenizerMixin.prototype._attachCurrentAttrLocationInfo = function () {\n    this.currentAttrLocation.endOffset = this.posTracker.offset;\n\n    var currentToken = this.tokenizer.currentToken,\n        currentAttr = this.tokenizer.currentAttr;\n\n    if (!currentToken.location.attrs)\n        currentToken.location.attrs = Object.create(null);\n\n    currentToken.location.attrs[currentAttr.name] = this.currentAttrLocation;\n};\n\nLocationInfoTokenizerMixin.prototype._getOverriddenMethods = function (mxn, orig) {\n    var methods = {\n        _createStartTagToken: function () {\n            orig._createStartTagToken.call(this);\n            this.currentToken.location = mxn.currentTokenLocation;\n        },\n\n        _createEndTagToken: function () {\n            orig._createEndTagToken.call(this);\n            this.currentToken.location = mxn.currentTokenLocation;\n        },\n\n        _createCommentToken: function () {\n            orig._createCommentToken.call(this);\n            this.currentToken.location = mxn.currentTokenLocation;\n        },\n\n        _createDoctypeToken: function (initialName) {\n            orig._createDoctypeToken.call(this, initialName);\n            this.currentToken.location = mxn.currentTokenLocation;\n        },\n\n        _createCharacterToken: function (type, ch) {\n            orig._createCharacterToken.call(this, type, ch);\n            this.currentCharacterToken.location = mxn.currentTokenLocation;\n        },\n\n        _createAttr: function (attrNameFirstCh) {\n            orig._createAttr.call(this, attrNameFirstCh);\n            mxn.currentAttrLocation = mxn._getCurrentLocation();\n        },\n\n        _leaveAttrName: function (toState) {\n            orig._leaveAttrName.call(this, toState);\n            mxn._attachCurrentAttrLocationInfo();\n        },\n\n        _leaveAttrValue: function (toState) {\n            orig._leaveAttrValue.call(this, toState);\n            mxn._attachCurrentAttrLocationInfo();\n        },\n\n        _emitCurrentToken: function () {\n            //NOTE: if we have pending character token make it's end location equal to the\n            //current token's start location.\n            if (this.currentCharacterToken)\n                this.currentCharacterToken.location.endOffset = this.currentToken.location.startOffset;\n\n            this.currentToken.location.endOffset = mxn.posTracker.offset + 1;\n            orig._emitCurrentToken.call(this);\n        },\n\n        _emitCurrentCharacterToken: function () {\n            //NOTE: if we have character token and it's location wasn't set in the _emitCurrentToken(),\n            //then set it's location at the current preprocessor position.\n            //We don't need to increment preprocessor position, since character token\n            //emission is always forced by the start of the next character token here.\n            //So, we already have advanced position.\n            if (this.currentCharacterToken && this.currentCharacterToken.location.endOffset === -1)\n                this.currentCharacterToken.location.endOffset = mxn.posTracker.offset;\n\n            orig._emitCurrentCharacterToken.call(this);\n        }\n    };\n\n    //NOTE: patch initial states for each mode to obtain token start position\n    Object.keys(Tokenizer.MODE).forEach(function (modeName) {\n        var state = Tokenizer.MODE[modeName];\n\n        methods[state] = function (cp) {\n            mxn.currentTokenLocation = mxn._getCurrentLocation();\n            orig[state].call(this, cp);\n        };\n    });\n\n    return methods;\n};\n\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,KAAK,GAAGC,OAAO,CAAC,mBAAmB,CAAC;EACpCC,SAAS,GAAGD,OAAO,CAAC,iBAAiB,CAAC;EACtCE,iCAAiC,GAAGF,OAAO,CAAC,yCAAyC,CAAC;EACtFG,QAAQ,GAAGH,OAAO,CAAC,MAAM,CAAC,CAACG,QAAQ;AAEvC,IAAIC,0BAA0B,GAAGC,MAAM,CAACC,OAAO,GAAG,UAAUC,SAAS,EAAE;EACnER,KAAK,CAACS,IAAI,CAAC,IAAI,EAAED,SAAS,CAAC;EAE3B,IAAI,CAACA,SAAS,GAAGA,SAAS;EAC1B,IAAI,CAACE,UAAU,GAAG,IAAIP,iCAAiC,CAACK,SAAS,CAACG,YAAY,CAAC;EAC/E,IAAI,CAACC,mBAAmB,GAAG,IAAI;EAC/B,IAAI,CAACC,oBAAoB,GAAG,IAAI;AACpC,CAAC;AAEDT,QAAQ,CAACC,0BAA0B,EAAEL,KAAK,CAAC;AAE3CK,0BAA0B,CAACS,SAAS,CAACC,mBAAmB,GAAG,YAAY;EACnE,OAAO;IACHC,IAAI,EAAE,IAAI,CAACN,UAAU,CAACM,IAAI;IAC1BC,GAAG,EAAE,IAAI,CAACP,UAAU,CAACO,GAAG;IACxBC,WAAW,EAAE,IAAI,CAACR,UAAU,CAACS,MAAM;IACnCC,SAAS,EAAE,CAAC;EAChB,CAAC;AACL,CAAC;AAEDf,0BAA0B,CAACS,SAAS,CAACO,8BAA8B,GAAG,YAAY;EAC9E,IAAI,CAACT,mBAAmB,CAACQ,SAAS,GAAG,IAAI,CAACV,UAAU,CAACS,MAAM;EAE3D,IAAIG,YAAY,GAAG,IAAI,CAACd,SAAS,CAACc,YAAY;IAC1CC,WAAW,GAAG,IAAI,CAACf,SAAS,CAACe,WAAW;EAE5C,IAAI,CAACD,YAAY,CAACE,QAAQ,CAACC,KAAK,EAC5BH,YAAY,CAACE,QAAQ,CAACC,KAAK,GAAGC,MAAM,CAACC,MAAM,CAAC,IAAI,CAAC;EAErDL,YAAY,CAACE,QAAQ,CAACC,KAAK,CAACF,WAAW,CAACK,IAAI,CAAC,GAAG,IAAI,CAAChB,mBAAmB;AAC5E,CAAC;AAEDP,0BAA0B,CAACS,SAAS,CAACe,qBAAqB,GAAG,UAAUC,GAAG,EAAEC,IAAI,EAAE;EAC9E,IAAIC,OAAO,GAAG;IACVC,oBAAoB,EAAE,SAAAA,CAAA,EAAY;MAC9BF,IAAI,CAACE,oBAAoB,CAACxB,IAAI,CAAC,IAAI,CAAC;MACpC,IAAI,CAACa,YAAY,CAACE,QAAQ,GAAGM,GAAG,CAACjB,oBAAoB;IACzD,CAAC;IAEDqB,kBAAkB,EAAE,SAAAA,CAAA,EAAY;MAC5BH,IAAI,CAACG,kBAAkB,CAACzB,IAAI,CAAC,IAAI,CAAC;MAClC,IAAI,CAACa,YAAY,CAACE,QAAQ,GAAGM,GAAG,CAACjB,oBAAoB;IACzD,CAAC;IAEDsB,mBAAmB,EAAE,SAAAA,CAAA,EAAY;MAC7BJ,IAAI,CAACI,mBAAmB,CAAC1B,IAAI,CAAC,IAAI,CAAC;MACnC,IAAI,CAACa,YAAY,CAACE,QAAQ,GAAGM,GAAG,CAACjB,oBAAoB;IACzD,CAAC;IAEDuB,mBAAmB,EAAE,SAAAA,CAAUC,WAAW,EAAE;MACxCN,IAAI,CAACK,mBAAmB,CAAC3B,IAAI,CAAC,IAAI,EAAE4B,WAAW,CAAC;MAChD,IAAI,CAACf,YAAY,CAACE,QAAQ,GAAGM,GAAG,CAACjB,oBAAoB;IACzD,CAAC;IAEDyB,qBAAqB,EAAE,SAAAA,CAAUC,IAAI,EAAEC,EAAE,EAAE;MACvCT,IAAI,CAACO,qBAAqB,CAAC7B,IAAI,CAAC,IAAI,EAAE8B,IAAI,EAAEC,EAAE,CAAC;MAC/C,IAAI,CAACC,qBAAqB,CAACjB,QAAQ,GAAGM,GAAG,CAACjB,oBAAoB;IAClE,CAAC;IAED6B,WAAW,EAAE,SAAAA,CAAUC,eAAe,EAAE;MACpCZ,IAAI,CAACW,WAAW,CAACjC,IAAI,CAAC,IAAI,EAAEkC,eAAe,CAAC;MAC5Cb,GAAG,CAAClB,mBAAmB,GAAGkB,GAAG,CAACf,mBAAmB,CAAC,CAAC;IACvD,CAAC;IAED6B,cAAc,EAAE,SAAAA,CAAUC,OAAO,EAAE;MAC/Bd,IAAI,CAACa,cAAc,CAACnC,IAAI,CAAC,IAAI,EAAEoC,OAAO,CAAC;MACvCf,GAAG,CAACT,8BAA8B,CAAC,CAAC;IACxC,CAAC;IAEDyB,eAAe,EAAE,SAAAA,CAAUD,OAAO,EAAE;MAChCd,IAAI,CAACe,eAAe,CAACrC,IAAI,CAAC,IAAI,EAAEoC,OAAO,CAAC;MACxCf,GAAG,CAACT,8BAA8B,CAAC,CAAC;IACxC,CAAC;IAED0B,iBAAiB,EAAE,SAAAA,CAAA,EAAY;MAC3B;MACA;MACA,IAAI,IAAI,CAACN,qBAAqB,EAC1B,IAAI,CAACA,qBAAqB,CAACjB,QAAQ,CAACJ,SAAS,GAAG,IAAI,CAACE,YAAY,CAACE,QAAQ,CAACN,WAAW;MAE1F,IAAI,CAACI,YAAY,CAACE,QAAQ,CAACJ,SAAS,GAAGU,GAAG,CAACpB,UAAU,CAACS,MAAM,GAAG,CAAC;MAChEY,IAAI,CAACgB,iBAAiB,CAACtC,IAAI,CAAC,IAAI,CAAC;IACrC,CAAC;IAEDuC,0BAA0B,EAAE,SAAAA,CAAA,EAAY;MACpC;MACA;MACA;MACA;MACA;MACA,IAAI,IAAI,CAACP,qBAAqB,IAAI,IAAI,CAACA,qBAAqB,CAACjB,QAAQ,CAACJ,SAAS,KAAK,CAAC,CAAC,EAClF,IAAI,CAACqB,qBAAqB,CAACjB,QAAQ,CAACJ,SAAS,GAAGU,GAAG,CAACpB,UAAU,CAACS,MAAM;MAEzEY,IAAI,CAACiB,0BAA0B,CAACvC,IAAI,CAAC,IAAI,CAAC;IAC9C;EACJ,CAAC;;EAED;EACAiB,MAAM,CAACuB,IAAI,CAAC/C,SAAS,CAACgD,IAAI,CAAC,CAACC,OAAO,CAAC,UAAUC,QAAQ,EAAE;IACpD,IAAIC,KAAK,GAAGnD,SAAS,CAACgD,IAAI,CAACE,QAAQ,CAAC;IAEpCpB,OAAO,CAACqB,KAAK,CAAC,GAAG,UAAUC,EAAE,EAAE;MAC3BxB,GAAG,CAACjB,oBAAoB,GAAGiB,GAAG,CAACf,mBAAmB,CAAC,CAAC;MACpDgB,IAAI,CAACsB,KAAK,CAAC,CAAC5C,IAAI,CAAC,IAAI,EAAE6C,EAAE,CAAC;IAC9B,CAAC;EACL,CAAC,CAAC;EAEF,OAAOtB,OAAO;AAClB,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}