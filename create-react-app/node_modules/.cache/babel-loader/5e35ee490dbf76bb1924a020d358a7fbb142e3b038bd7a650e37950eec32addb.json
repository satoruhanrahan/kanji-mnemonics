{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Sator/WebProjects/kanjiMnemonics/create-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Sator/WebProjects/kanjiMnemonics/create-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import DOMPurify from'dompurify';export var fetchKanji=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var api,response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:api=\"/api/kanji\";if(process.env.REACT_APP_NODE_ENV==='development'){api='http://localhost:4000'+api;}_context.next=4;return fetch(api);case 4:response=_context.sent;_context.next=7;return response.json();case 7:json=_context.sent;if(!response.ok){_context.next=13;break;}json.forEach(function(kanji,kanjiIndex){json[kanjiIndex].mnemonic.forEach(function(mnemonic,index){json[index].mnemonic[index].text=DOMPurify.sanitize(json[index].mnemonic[index].text);});});return _context.abrupt(\"return\",json);case 13:console.log(response);case 14:case\"end\":return _context.stop();}},_callee);}));return function fetchKanji(){return _ref.apply(this,arguments);};}();","map":{"version":3,"names":["DOMPurify","fetchKanji","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","api","response","json","wrap","_callee$","_context","prev","next","process","env","REACT_APP_NODE_ENV","fetch","sent","ok","forEach","kanji","kanjiIndex","mnemonic","index","text","sanitize","abrupt","console","log","stop","apply","arguments"],"sources":["C:/Users/Sator/WebProjects/kanjiMnemonics/create-react-app/src/hooks/fetchKanji.js"],"sourcesContent":["import DOMPurify from 'dompurify'\r\n\r\nexport const fetchKanji = async () => {\r\n    let api = \"/api/kanji\";\r\n    if (process.env.REACT_APP_NODE_ENV === 'development') {\r\n        api = 'http://localhost:4000' + api\r\n    }\r\n\r\n    const response = await fetch(api)\r\n    const json = await response.json()\r\n\r\n    if (response.ok) {\r\n        json.forEach((kanji, kanjiIndex) => {\r\n            json[kanjiIndex].mnemonic.forEach((mnemonic, index) => {\r\n                json[index].mnemonic[index].text = DOMPurify.sanitize(json[index].mnemonic[index].text)\r\n            })\r\n        })\r\n\r\n        return json\r\n    }\r\n    else {\r\n        console.log(response)\r\n    }\r\n}"],"mappings":"gTAAA,MAAO,CAAAA,SAAS,KAAM,WAAW,CAEjC,MAAO,IAAM,CAAAC,UAAU,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,GAAA,CAAAC,QAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAClBP,GAAG,CAAG,YAAY,CACtB,GAAIQ,OAAO,CAACC,GAAG,CAACC,kBAAkB,GAAK,aAAa,CAAE,CAClDV,GAAG,CAAG,uBAAuB,CAAGA,GAAG,CACvC,CAACK,QAAA,CAAAE,IAAA,SAEsB,CAAAI,KAAK,CAACX,GAAG,CAAC,QAA3BC,QAAQ,CAAAI,QAAA,CAAAO,IAAA,CAAAP,QAAA,CAAAE,IAAA,SACK,CAAAN,QAAQ,CAACC,IAAI,CAAC,CAAC,QAA5BA,IAAI,CAAAG,QAAA,CAAAO,IAAA,KAENX,QAAQ,CAACY,EAAE,EAAAR,QAAA,CAAAE,IAAA,WACXL,IAAI,CAACY,OAAO,CAAC,SAACC,KAAK,CAAEC,UAAU,CAAK,CAChCd,IAAI,CAACc,UAAU,CAAC,CAACC,QAAQ,CAACH,OAAO,CAAC,SAACG,QAAQ,CAAEC,KAAK,CAAK,CACnDhB,IAAI,CAACgB,KAAK,CAAC,CAACD,QAAQ,CAACC,KAAK,CAAC,CAACC,IAAI,CAAG1B,SAAS,CAAC2B,QAAQ,CAAClB,IAAI,CAACgB,KAAK,CAAC,CAACD,QAAQ,CAACC,KAAK,CAAC,CAACC,IAAI,CAAC,CAC3F,CAAC,CAAC,CACN,CAAC,CAAC,QAAAd,QAAA,CAAAgB,MAAA,UAEKnB,IAAI,UAGXoB,OAAO,CAACC,GAAG,CAACtB,QAAQ,CAAC,0BAAAI,QAAA,CAAAmB,IAAA,MAAAzB,OAAA,GAE5B,kBArBY,CAAAL,UAAUA,CAAA,SAAAC,IAAA,CAAA8B,KAAA,MAAAC,SAAA,OAqBtB"},"metadata":{},"sourceType":"module","externalDependencies":[]}