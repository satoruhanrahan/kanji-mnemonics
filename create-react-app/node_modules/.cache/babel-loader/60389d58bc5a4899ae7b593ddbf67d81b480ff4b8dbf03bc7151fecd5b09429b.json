{"ast":null,"code":"import DOMPurify from 'dompurify';\nexport const fetchKanji = async () => {\n  let api = \"/api/kanji\";\n  if (process.env.REACT_APP_NODE_ENV === 'development') {\n    api = 'http://localhost:' + process.env.REACT_APP_BACKEND_PORT + api;\n  }\n  const response = await fetch(api);\n  const json = await response.json();\n  if (response.ok) {\n    json.forEach((kanji, kanjiIndex) => {\n      json[kanjiIndex].mnemonic.forEach((mnemonic, index) => {\n        json[kanjiIndex].mnemonic[index].text = DOMPurify.sanitize(json[kanjiIndex].mnemonic[index].text);\n      });\n    });\n    return json;\n  } else {\n    console.log(response);\n  }\n};","map":{"version":3,"names":["DOMPurify","fetchKanji","api","process","env","REACT_APP_NODE_ENV","REACT_APP_BACKEND_PORT","response","fetch","json","ok","forEach","kanji","kanjiIndex","mnemonic","index","text","sanitize","console","log"],"sources":["C:/Users/Sator/WebProjects/kanjiMnemonics/create-react-app/src/hooks/fetchKanji.js"],"sourcesContent":["import DOMPurify from 'dompurify'\r\n\r\nexport const fetchKanji = async () => {\r\n    let api = \"/api/kanji\";\r\n    if (process.env.REACT_APP_NODE_ENV === 'development') {\r\n        api = 'http://localhost:' + process.env.REACT_APP_BACKEND_PORT + api\r\n    }\r\n\r\n    const response = await fetch(api)\r\n    const json = await response.json()\r\n\r\n    if (response.ok) {\r\n        json.forEach((kanji, kanjiIndex) => {\r\n            json[kanjiIndex].mnemonic.forEach((mnemonic, index) => {\r\n                json[kanjiIndex].mnemonic[index].text = DOMPurify.sanitize(json[kanjiIndex].mnemonic[index].text)\r\n            })\r\n        })\r\n\r\n        return json\r\n    }\r\n    else {\r\n        console.log(response)\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,SAAS,MAAM,WAAW;AAEjC,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAY;EAClC,IAAIC,GAAG,GAAG,YAAY;EACtB,IAAIC,OAAO,CAACC,GAAG,CAACC,kBAAkB,KAAK,aAAa,EAAE;IAClDH,GAAG,GAAG,mBAAmB,GAAGC,OAAO,CAACC,GAAG,CAACE,sBAAsB,GAAGJ,GAAG;EACxE;EAEA,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAACN,GAAG,CAAC;EACjC,MAAMO,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAI,CAAC,CAAC;EAElC,IAAIF,QAAQ,CAACG,EAAE,EAAE;IACbD,IAAI,CAACE,OAAO,CAAC,CAACC,KAAK,EAAEC,UAAU,KAAK;MAChCJ,IAAI,CAACI,UAAU,CAAC,CAACC,QAAQ,CAACH,OAAO,CAAC,CAACG,QAAQ,EAAEC,KAAK,KAAK;QACnDN,IAAI,CAACI,UAAU,CAAC,CAACC,QAAQ,CAACC,KAAK,CAAC,CAACC,IAAI,GAAGhB,SAAS,CAACiB,QAAQ,CAACR,IAAI,CAACI,UAAU,CAAC,CAACC,QAAQ,CAACC,KAAK,CAAC,CAACC,IAAI,CAAC;MACrG,CAAC,CAAC;IACN,CAAC,CAAC;IAEF,OAAOP,IAAI;EACf,CAAC,MACI;IACDS,OAAO,CAACC,GAAG,CAACZ,QAAQ,CAAC;EACzB;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}