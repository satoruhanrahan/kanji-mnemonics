{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Sator/WebProjects/kanjiMnemonics/create-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Sator/WebProjects/kanjiMnemonics/create-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import DOMPurify from'dompurify';export var fetchKanji=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var api,response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:api=\"/api/kanji\";if(process.env.REACT_APP_NODE_ENV==='development'){api='http://localhost:'+process.env.REACT_APP_BACKEND_PORT+api;}_context.next=4;return fetch(api);case 4:response=_context.sent;_context.next=7;return response.json();case 7:json=_context.sent;if(!response.ok){_context.next=13;break;}json.forEach(function(kanji,kanjiIndex){json[kanjiIndex].mnemonic.forEach(function(mnemonic,mnemonicIndex){json[kanjiIndex].mnemonic[mnemonicIndex].text=DOMPurify.sanitize(json[kanjiIndex].mnemonic[mnemonicIndex].text);});});return _context.abrupt(\"return\",json);case 13:console.log(response);case 14:case\"end\":return _context.stop();}},_callee);}));return function fetchKanji(){return _ref.apply(this,arguments);};}();","map":{"version":3,"names":["DOMPurify","fetchKanji","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","api","response","json","wrap","_callee$","_context","prev","next","process","env","REACT_APP_NODE_ENV","REACT_APP_BACKEND_PORT","fetch","sent","ok","forEach","kanji","kanjiIndex","mnemonic","mnemonicIndex","text","sanitize","abrupt","console","log","stop","apply","arguments"],"sources":["C:/Users/Sator/WebProjects/kanjiMnemonics/create-react-app/src/hooks/fetchKanji.js"],"sourcesContent":["import DOMPurify from 'dompurify'\r\n\r\nexport const fetchKanji = async () => {\r\n    let api = \"/api/kanji\";\r\n    if (process.env.REACT_APP_NODE_ENV === 'development') {\r\n        api = 'http://localhost:' + process.env.REACT_APP_BACKEND_PORT + api\r\n    }\r\n\r\n    const response = await fetch(api)\r\n    const json = await response.json()\r\n\r\n    if (response.ok) {\r\n        json.forEach((kanji, kanjiIndex) => {\r\n            json[kanjiIndex].mnemonic.forEach((mnemonic, mnemonicIndex) => {\r\n                json[kanjiIndex].mnemonic[mnemonicIndex].text = DOMPurify.sanitize(json[kanjiIndex].mnemonic[mnemonicIndex].text)\r\n            })\r\n        })\r\n\r\n        return json\r\n    }\r\n    else {\r\n        console.log(response)\r\n    }\r\n}"],"mappings":"gTAAA,MAAO,CAAAA,SAAS,KAAM,WAAW,CAEjC,MAAO,IAAM,CAAAC,UAAU,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,GAAA,CAAAC,QAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAClBP,GAAG,CAAG,YAAY,CACtB,GAAIQ,OAAO,CAACC,GAAG,CAACC,kBAAkB,GAAK,aAAa,CAAE,CAClDV,GAAG,CAAG,mBAAmB,CAAGQ,OAAO,CAACC,GAAG,CAACE,sBAAsB,CAAGX,GAAG,CACxE,CAACK,QAAA,CAAAE,IAAA,SAEsB,CAAAK,KAAK,CAACZ,GAAG,CAAC,QAA3BC,QAAQ,CAAAI,QAAA,CAAAQ,IAAA,CAAAR,QAAA,CAAAE,IAAA,SACK,CAAAN,QAAQ,CAACC,IAAI,CAAC,CAAC,QAA5BA,IAAI,CAAAG,QAAA,CAAAQ,IAAA,KAENZ,QAAQ,CAACa,EAAE,EAAAT,QAAA,CAAAE,IAAA,WACXL,IAAI,CAACa,OAAO,CAAC,SAACC,KAAK,CAAEC,UAAU,CAAK,CAChCf,IAAI,CAACe,UAAU,CAAC,CAACC,QAAQ,CAACH,OAAO,CAAC,SAACG,QAAQ,CAAEC,aAAa,CAAK,CAC3DjB,IAAI,CAACe,UAAU,CAAC,CAACC,QAAQ,CAACC,aAAa,CAAC,CAACC,IAAI,CAAG3B,SAAS,CAAC4B,QAAQ,CAACnB,IAAI,CAACe,UAAU,CAAC,CAACC,QAAQ,CAACC,aAAa,CAAC,CAACC,IAAI,CAAC,CACrH,CAAC,CAAC,CACN,CAAC,CAAC,QAAAf,QAAA,CAAAiB,MAAA,UAEKpB,IAAI,UAGXqB,OAAO,CAACC,GAAG,CAACvB,QAAQ,CAAC,0BAAAI,QAAA,CAAAoB,IAAA,MAAA1B,OAAA,GAE5B,kBArBY,CAAAL,UAAUA,CAAA,SAAAC,IAAA,CAAA+B,KAAA,MAAAC,SAAA,OAqBtB"},"metadata":{},"sourceType":"module","externalDependencies":[]}