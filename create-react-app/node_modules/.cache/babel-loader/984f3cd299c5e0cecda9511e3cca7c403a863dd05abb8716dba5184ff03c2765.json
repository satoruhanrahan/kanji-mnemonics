{"ast":null,"code":"'use strict';\n\nvar Mixin = require('../../utils/mixin'),\n  inherits = require('util').inherits,\n  UNICODE = require('../../common/unicode');\n\n//Aliases\nvar $ = UNICODE.CODE_POINTS;\nvar PositionTrackingPreprocessorMixin = module.exports = function (preprocessor) {\n  // NOTE: avoid installing tracker twice\n  if (!preprocessor.__locTracker) {\n    preprocessor.__locTracker = this;\n    Mixin.call(this, preprocessor);\n    this.preprocessor = preprocessor;\n    this.isEol = false;\n    this.lineStartPos = 0;\n    this.droppedBufferSize = 0;\n    this.col = -1;\n    this.line = 1;\n  }\n  return preprocessor.__locTracker;\n};\ninherits(PositionTrackingPreprocessorMixin, Mixin);\nObject.defineProperty(PositionTrackingPreprocessorMixin.prototype, 'offset', {\n  get: function get() {\n    return this.droppedBufferSize + this.preprocessor.pos;\n  }\n});\nPositionTrackingPreprocessorMixin.prototype._getOverriddenMethods = function (mxn, orig) {\n  return {\n    advance: function advance() {\n      var cp = orig.advance.call(this);\n\n      //NOTE: LF should be in the last column of the line\n      if (mxn.isEol) {\n        mxn.isEol = false;\n        mxn.line++;\n        mxn.lineStartPos = mxn.offset;\n      }\n      if (cp === $.LINE_FEED) mxn.isEol = true;\n      mxn.col = mxn.offset - mxn.lineStartPos + 1;\n      return cp;\n    },\n    retreat: function retreat() {\n      orig.retreat.call(this);\n      mxn.isEol = false;\n      mxn.col = mxn.offset - mxn.lineStartPos + 1;\n    },\n    dropParsedChunk: function dropParsedChunk() {\n      var prevPos = this.pos;\n      orig.dropParsedChunk.call(this);\n      mxn.droppedBufferSize += prevPos - this.pos;\n    }\n  };\n};","map":{"version":3,"names":["Mixin","require","inherits","UNICODE","$","CODE_POINTS","PositionTrackingPreprocessorMixin","module","exports","preprocessor","__locTracker","call","isEol","lineStartPos","droppedBufferSize","col","line","Object","defineProperty","prototype","get","pos","_getOverriddenMethods","mxn","orig","advance","cp","offset","LINE_FEED","retreat","dropParsedChunk","prevPos"],"sources":["C:/Users/Sator/WebProjects/kanjiMnemonics/create-react-app/node_modules/react-render-html/node_modules/parse5/lib/extensions/position_tracking/preprocessor_mixin.js"],"sourcesContent":["'use strict';\n\nvar Mixin = require('../../utils/mixin'),\n    inherits = require('util').inherits,\n    UNICODE = require('../../common/unicode');\n\n//Aliases\nvar $ = UNICODE.CODE_POINTS;\n\nvar PositionTrackingPreprocessorMixin = module.exports = function (preprocessor) {\n    // NOTE: avoid installing tracker twice\n    if (!preprocessor.__locTracker) {\n        preprocessor.__locTracker = this;\n\n        Mixin.call(this, preprocessor);\n\n        this.preprocessor = preprocessor;\n        this.isEol = false;\n        this.lineStartPos = 0;\n        this.droppedBufferSize = 0;\n\n        this.col = -1;\n        this.line = 1;\n    }\n\n    return preprocessor.__locTracker;\n};\n\ninherits(PositionTrackingPreprocessorMixin, Mixin);\n\nObject.defineProperty(PositionTrackingPreprocessorMixin.prototype, 'offset', {\n    get: function () {\n        return this.droppedBufferSize + this.preprocessor.pos;\n    }\n});\n\nPositionTrackingPreprocessorMixin.prototype._getOverriddenMethods = function (mxn, orig) {\n    return {\n        advance: function () {\n            var cp = orig.advance.call(this);\n\n            //NOTE: LF should be in the last column of the line\n            if (mxn.isEol) {\n                mxn.isEol = false;\n                mxn.line++;\n                mxn.lineStartPos = mxn.offset;\n            }\n\n            if (cp === $.LINE_FEED)\n                mxn.isEol = true;\n\n            mxn.col = mxn.offset - mxn.lineStartPos + 1;\n\n            return cp;\n        },\n\n        retreat: function () {\n            orig.retreat.call(this);\n            mxn.isEol = false;\n\n            mxn.col = mxn.offset - mxn.lineStartPos + 1;\n        },\n\n        dropParsedChunk: function () {\n            var prevPos = this.pos;\n\n            orig.dropParsedChunk.call(this);\n\n            mxn.droppedBufferSize += prevPos - this.pos;\n        }\n    };\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,KAAK,GAAGC,OAAO,CAAC,mBAAmB,CAAC;EACpCC,QAAQ,GAAGD,OAAO,CAAC,MAAM,CAAC,CAACC,QAAQ;EACnCC,OAAO,GAAGF,OAAO,CAAC,sBAAsB,CAAC;;AAE7C;AACA,IAAIG,CAAC,GAAGD,OAAO,CAACE,WAAW;AAE3B,IAAIC,iCAAiC,GAAGC,MAAM,CAACC,OAAO,GAAG,UAAUC,YAAY,EAAE;EAC7E;EACA,IAAI,CAACA,YAAY,CAACC,YAAY,EAAE;IAC5BD,YAAY,CAACC,YAAY,GAAG,IAAI;IAEhCV,KAAK,CAACW,IAAI,CAAC,IAAI,EAAEF,YAAY,CAAC;IAE9B,IAAI,CAACA,YAAY,GAAGA,YAAY;IAChC,IAAI,CAACG,KAAK,GAAG,KAAK;IAClB,IAAI,CAACC,YAAY,GAAG,CAAC;IACrB,IAAI,CAACC,iBAAiB,GAAG,CAAC;IAE1B,IAAI,CAACC,GAAG,GAAG,CAAC,CAAC;IACb,IAAI,CAACC,IAAI,GAAG,CAAC;EACjB;EAEA,OAAOP,YAAY,CAACC,YAAY;AACpC,CAAC;AAEDR,QAAQ,CAACI,iCAAiC,EAAEN,KAAK,CAAC;AAElDiB,MAAM,CAACC,cAAc,CAACZ,iCAAiC,CAACa,SAAS,EAAE,QAAQ,EAAE;EACzEC,GAAG,EAAE,SAAAA,IAAA,EAAY;IACb,OAAO,IAAI,CAACN,iBAAiB,GAAG,IAAI,CAACL,YAAY,CAACY,GAAG;EACzD;AACJ,CAAC,CAAC;AAEFf,iCAAiC,CAACa,SAAS,CAACG,qBAAqB,GAAG,UAAUC,GAAG,EAAEC,IAAI,EAAE;EACrF,OAAO;IACHC,OAAO,EAAE,SAAAA,QAAA,EAAY;MACjB,IAAIC,EAAE,GAAGF,IAAI,CAACC,OAAO,CAACd,IAAI,CAAC,IAAI,CAAC;;MAEhC;MACA,IAAIY,GAAG,CAACX,KAAK,EAAE;QACXW,GAAG,CAACX,KAAK,GAAG,KAAK;QACjBW,GAAG,CAACP,IAAI,EAAE;QACVO,GAAG,CAACV,YAAY,GAAGU,GAAG,CAACI,MAAM;MACjC;MAEA,IAAID,EAAE,KAAKtB,CAAC,CAACwB,SAAS,EAClBL,GAAG,CAACX,KAAK,GAAG,IAAI;MAEpBW,GAAG,CAACR,GAAG,GAAGQ,GAAG,CAACI,MAAM,GAAGJ,GAAG,CAACV,YAAY,GAAG,CAAC;MAE3C,OAAOa,EAAE;IACb,CAAC;IAEDG,OAAO,EAAE,SAAAA,QAAA,EAAY;MACjBL,IAAI,CAACK,OAAO,CAAClB,IAAI,CAAC,IAAI,CAAC;MACvBY,GAAG,CAACX,KAAK,GAAG,KAAK;MAEjBW,GAAG,CAACR,GAAG,GAAGQ,GAAG,CAACI,MAAM,GAAGJ,GAAG,CAACV,YAAY,GAAG,CAAC;IAC/C,CAAC;IAEDiB,eAAe,EAAE,SAAAA,gBAAA,EAAY;MACzB,IAAIC,OAAO,GAAG,IAAI,CAACV,GAAG;MAEtBG,IAAI,CAACM,eAAe,CAACnB,IAAI,CAAC,IAAI,CAAC;MAE/BY,GAAG,CAACT,iBAAiB,IAAIiB,OAAO,GAAG,IAAI,CAACV,GAAG;IAC/C;EACJ,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}